{"version":3,"sources":["../../src/db/contactdb.js"],"names":["mongoose","connect","useNewUrlParser","contactSchema","Schema","_id","String","name","tel","address","photo","photoSchema","image","Buffer","mimetype","index","contact_id","Contact","model","Photo"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;;AAEAA,SAASC,OAAT,CAAiB,sCAAjB,EAAyD,EAAEC,iBAAiB,IAAnB,EAAzD;AACA;AACA;;AAEA,MAAMC,gBAAgB,IAAIH,SAASI,MAAb,CAAoB;AACtCC,SAAMC,MADgC;AAEtCC,UAAMD,MAFgC;AAGtCE,SAAKF,MAHiC;AAItCG,aAASH,MAJ6B;AAKtCI,WAAMJ;AALgC,CAApB,CAAtB;;AAQA,MAAMK,cAAc,IAAIX,SAASI,MAAb,CAAoB;AACpCC,SAAKC,MAD+B;AAEpCM,WAAOC,MAF6B;AAGpCC,cAAUR;AAH0B,CAApB,CAApB;;AAMAH,cAAcY,KAAd,CAAoB,EAAER,MAAK,CAAP,EAApB;AACAI,YAAYI,KAAZ,CAAkB,EAAEC,YAAW,CAAb,EAAlB;;AAEA,MAAMC,UAAUjB,SAASkB,KAAT,CAAe,UAAf,EAA2Bf,aAA3B,CAAhB;AACA,MAAMgB,QAAQnB,SAASkB,KAAT,CAAe,QAAf,EAAyBP,WAAzB,CAAd;;AAEA,SAASM,OAAT,EAAkBE,KAAlB,EAAyBnB,QAAzB","file":"contactdb.js","sourcesContent":["import mongoose from 'mongoose';\r\n\r\nmongoose.connect('mongodb://localhost:27017/contactsdb', { useNewUrlParser: true })\r\n//mlab 연결정보\r\n//mongoose.connect(process.env.MONGODB_URI, { useNewUrlParser: true })\r\n\r\nconst contactSchema = new mongoose.Schema({\r\n    _id : String,\r\n    name: String,\r\n    tel: String,\r\n    address: String,\r\n    photo:String\r\n})\r\n\r\nconst photoSchema = new mongoose.Schema({\r\n    _id: String,\r\n    image: Buffer, \r\n    mimetype: String \r\n})\r\n\r\ncontactSchema.index({ name:1 })\r\nphotoSchema.index({ contact_id:1 })\r\n\r\nconst Contact = mongoose.model(\"contacts\", contactSchema);\r\nconst Photo = mongoose.model(\"photos\", photoSchema);\r\n\r\nexport { Contact, Photo, mongoose };\r\n"]}